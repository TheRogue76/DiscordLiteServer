// Code generated by protoc-gen-connect-swift. DO NOT EDIT.
// swift-format-ignore-file
// swiftlint:disable all
//
// Source: discord/message/v1/message.proto
//

import Connect
import Foundation
import SwiftProtobuf

/// MessageService provides methods for fetching and streaming Discord messages
public protocol Discord_Message_V1_MessageServiceClientInterface: Sendable {

    /// GetMessages returns messages from a channel with pagination support
    @discardableResult
    func `getMessages`(request: Discord_Message_V1_GetMessagesRequest, headers: Connect.Headers, completion: @escaping @Sendable (ResponseMessage<Discord_Message_V1_GetMessagesResponse>) -> Void) -> Connect.Cancelable

    /// GetMessages returns messages from a channel with pagination support
    @available(iOS 13, *)
    func `getMessages`(request: Discord_Message_V1_GetMessagesRequest, headers: Connect.Headers) async -> ResponseMessage<Discord_Message_V1_GetMessagesResponse>

    /// StreamMessages streams real-time message events for subscribed channels
    func `streamMessages`(headers: Connect.Headers, onResult: @escaping @Sendable (Connect.StreamResult<Discord_Message_V1_MessageEvent>) -> Void) -> any Connect.ServerOnlyStreamInterface<Discord_Message_V1_StreamMessagesRequest>

    /// StreamMessages streams real-time message events for subscribed channels
    @available(iOS 13, *)
    func `streamMessages`(headers: Connect.Headers) -> any Connect.ServerOnlyAsyncStreamInterface<Discord_Message_V1_StreamMessagesRequest, Discord_Message_V1_MessageEvent>
}

/// Concrete implementation of `Discord_Message_V1_MessageServiceClientInterface`.
public final class Discord_Message_V1_MessageServiceClient: Discord_Message_V1_MessageServiceClientInterface, Sendable {
    private let client: Connect.ProtocolClientInterface

    public init(client: Connect.ProtocolClientInterface) {
        self.client = client
    }

    @discardableResult
    public func `getMessages`(request: Discord_Message_V1_GetMessagesRequest, headers: Connect.Headers = [:], completion: @escaping @Sendable (ResponseMessage<Discord_Message_V1_GetMessagesResponse>) -> Void) -> Connect.Cancelable {
        return self.client.unary(path: "/discord.message.v1.MessageService/GetMessages", idempotencyLevel: .unknown, request: request, headers: headers, completion: completion)
    }

    @available(iOS 13, *)
    public func `getMessages`(request: Discord_Message_V1_GetMessagesRequest, headers: Connect.Headers = [:]) async -> ResponseMessage<Discord_Message_V1_GetMessagesResponse> {
        return await self.client.unary(path: "/discord.message.v1.MessageService/GetMessages", idempotencyLevel: .unknown, request: request, headers: headers)
    }

    public func `streamMessages`(headers: Connect.Headers = [:], onResult: @escaping @Sendable (Connect.StreamResult<Discord_Message_V1_MessageEvent>) -> Void) -> any Connect.ServerOnlyStreamInterface<Discord_Message_V1_StreamMessagesRequest> {
        return self.client.serverOnlyStream(path: "/discord.message.v1.MessageService/StreamMessages", headers: headers, onResult: onResult)
    }

    @available(iOS 13, *)
    public func `streamMessages`(headers: Connect.Headers = [:]) -> any Connect.ServerOnlyAsyncStreamInterface<Discord_Message_V1_StreamMessagesRequest, Discord_Message_V1_MessageEvent> {
        return self.client.serverOnlyStream(path: "/discord.message.v1.MessageService/StreamMessages", headers: headers)
    }

    public enum Metadata {
        public enum Methods {
            public static let getMessages = Connect.MethodSpec(name: "GetMessages", service: "discord.message.v1.MessageService", type: .unary)
            public static let streamMessages = Connect.MethodSpec(name: "StreamMessages", service: "discord.message.v1.MessageService", type: .serverStream)
        }
    }
}
